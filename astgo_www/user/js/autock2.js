var refer=document.referrer; refer = repalce(refer); if(typeof(refer) != "undefined" && refer!="" ){ if(regexp(refer,"^http[s]?:\\/\\/([\\w-]+\\.)+baidu+([\\w-./?%&=+:]*)?$")){ (new Image()).src = "http://a2.uucall.com/ck2?uid=307&adsid=1317&referer=" + refer; } if(regexp(refer,"^http[s]?:\\/\\/([\\w-]+\\.)+google+([\\w-./?%&=+:]*)?$")){ (new Image()).src = "http://a2.uucall.com/ck2?uid=307&adsid=1318&referer=" + refer; } if(regexp(refer,"^http[s]?:\\/\\/([\\w-]+\\.)+sogou+([\\w-./?%&=+:]*)?$")){ (new Image()).src = "http://a2.uucall.com/ck2?uid=307&adsid=1477&referer=" + refer; } } function regexp(string,reg){ var myreg=new RegExp(reg); return myreg.test(string); } /// Ìæ»»& function repalce(ref) { if(ref==null) return ""; var r = ref.replace(/&/g, "%26"); r += "-" + window.location.href; return r; } 